<!--
Copyright (C) 2024 Nicola Murino

This WebUI uses the KeenThemes Mega Bundle, a proprietary theme:

https://keenthemes.com/products/templates-mega-bundle

KeenThemes HTML/CSS/JS components are allowed for use only within the
SFTPGo product and restricted to be used in a resealable HTML template
that can compete with KeenThemes products anyhow.

This WebUI is allowed for use only within the SFTPGo product and
therefore cannot be used in derivative works/products without an
explicit grant from the SFTPGo Team (support@sftpgo.com).
-->
{{- define "fshtml"}}
<div class="card mt-10 {{if .IsHidden}}d-none{{end}}">
    <div class="card-header bg-light">
        <h3 data-i18n="storage.title" class="card-title section-title-inner">File system</h3>
    </div>
    <div class="card-body">
        <div class="form-group row">
            <label for="idFilesystem" data-i18n="storage.label" class="col-md-3 col-form-label">Storage</label>
            <div class="col-md-9">
                <select id="idFilesystem" name="fs_provider" class="form-select" data-control="i18n-select2" data-hide-search="true">
                    {{- range ListFSProviders }}
                    <option value="{{.Name}}" data-i18n="{{.I18nString}}" {{if eq .FilesystemProvider $.Provider }}selected{{end}}>{{.ShortInfo}}</option>
                    {{- end}}
                </select>
            </div>
        </div>
        {{- if or .IsUserPage .IsGroupPage}}
        <div class="form-group row mt-10">
            <label for="idHomeDir" data-i18n="storage.home_dir" class="col-md-3 col-form-label">Home Dir</label>
            <div class="col-md-9">
                <input id="idHomeDir" type="text" data-i18n="[placeholder]storage.home_dir_placeholder" class="form-control" name="home_dir" value="{{.DirPath}}" aria-describedby="idHomeDirHelp" />
                <div id="idHomeDirHelp" class="form-text" {{if not .DirPath}}{{if .HasUsersBaseDir}}data-i18n="storage.home_dir_help1"{{else}}{{if .IsGroupPage}}data-i18n="storage.home_dir_help2"{{else}}data-i18n="storage.home_dir_help3"{{end}}{{end}}{{end}}></div>
            </div>
        </div>
        {{- else}}
        <div class="form-group row mt-10">
            <label for="idMappedPath" data-i18n="storage.home_dir" class="col-md-3 col-form-label">Home Dir</label>
            <div class="col-md-9">
                <input id="idMappedPath" type="text" data-i18n="[placeholder]storage.home_dir_placeholder" class="form-control" name="mapped_path" value="{{.DirPath}}" aria-describedby="idMappedPathHelp" />
                <div id="idMappedPathHelp" class="form-text" {{if not .DirPath}}{{if .HasUsersBaseDir}}data-i18n="storage.home_dir_help1"{{else}}{{if .IsGroupPage}}data-i18n="storage.home_dir_help2"{{else}}data-i18n="storage.home_dir_help3"{{end}}{{end}}{{end}}></div>
            </div>
        </div>
        {{- end}}
        <div class="form-group row mt-10 fsconfig fsconfig-osfs">
            <label for="idOsReadBufferSize" data-i18n="storage.os_read_buffer" class="col-md-3 col-form-label">Read buffer (MB)</label>
            <div class="col-md-3">
                <input id="idOsReadBufferSize" type="number" min="0" max="10" class="form-control" name="osfs_read_buffer_size" value="{{.OSConfig.ReadBufferSize}}" aria-describedby="idOsReadBufferSizeHelp" />
                <div id="idOsReadBufferSizeHelp" class="form-text" data-i18n="storage.os_buffer_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idOsWriteBufferSize" data-i18n="storage.os_write_buffer" class="col-md-2 col-form-label">Write buffer (MB)</label>
            <div class="col-md-3">
                <input id="idOsWriteBufferSize" type="number" min="0" max="10" class="form-control" name="osfs_write_buffer_size" value="{{.OSConfig.WriteBufferSize}}" aria-describedby="idOsWriteBufferSizeHelp" />
                <div id="idOsWriteBufferSizeHelp" class="form-text" data-i18n="storage.os_buffer_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3Bucket" data-i18n="storage.bucket" class="col-md-3 col-form-label">Bucket</label>
            <div class="col-md-9">
                <input id="idS3Bucket" type="text" class="form-control" name="s3_bucket" value="{{.S3Config.Bucket}}" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3Region" data-i18n="storage.region" class="col-md-3 col-form-label">Region</label>
            <div class="col-md-9">
                <input id="idS3Region" type="text" class="form-control" name="s3_region" value="{{.S3Config.Region}}" maxlength="512" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3AccessKey" data-i18n="storage.access_key" class="col-md-3 col-form-label">Access Key</label>
            <div class="col-md-9">
                <input id="idS3AccessKey" type="text" class="form-control" name="s3_access_key" value="{{.S3Config.AccessKey}}" maxlength="512" spellcheck="false" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3AccessSecret" data-i18n="storage.access_secret" class="col-md-3 col-form-label">Access Secret</label>
            <div class="col-md-9">
                <input id="idS3AccessSecret" type="password" class="form-control" name="s3_access_secret" autocomplete="off" spellcheck="false"
                    value="{{if .S3Config.AccessSecret.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.S3Config.AccessSecret.GetPayload}}{{end}}"/>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3KeyPrefix" data-i18n="storage.key_prefix" class="col-md-3 col-form-label">Key Prefix</label>
            <div class="col-md-9">
                <input id="idS3KeyPrefix" type="text" class="form-control" name="s3_key_prefix" value="{{.S3Config.KeyPrefix}}" aria-describedby="idS3KeyPrefixHelp"/>
                <div id="idS3KeyPrefixHelp" class="form-text" data-i18n="storage.key_prefix_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3Endpoint" data-i18n="storage.endpoint" class="col-md-3 col-form-label">Endpoint</label>
            <div class="col-md-9">
                <input id="idS3Endpoint" type="text" class="form-control" name="s3_endpoint" value="{{.S3Config.Endpoint}}" aria-describedby="idS3EndpointHelp"/>
                <div id="idS3EndpointHelp" class="form-text" data-i18n="storage.endpoint_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3RoleARN" data-i18n="storage.role_arn" class="col-md-3 col-form-label">Role ARN</label>
            <div class="col-md-9">
                <input id="idS3RoleARN" type="text" class="form-control" name="s3_role_arn" value="{{.S3Config.RoleARN}}" aria-describedby="idS3RoleARNHelp"/>
                <div id="idS3RoleARNHelp" class="form-text" data-i18n="storage.role_arn_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3StorageClass" data-i18n="storage.class" class="col-md-3 col-form-label">Storage Class</label>
            <div class="col-md-3">
                <input id="idS3StorageClass" type="text" class="form-control" name="s3_storage_class" value="{{.S3Config.StorageClass}}" aria-describedby="idS3StorageClassHelp" />
                <div id="idS3StorageClassHelp" class="form-text" data-i18n="general.blank_default_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idS3ACL" data-i18n="storage.acl" class="col-md-2 col-form-label">ACL</label>
            <div class="col-md-3">
                <input id="idS3ACL" type="text" class="form-control" name="s3_acl" value="{{.S3Config.ACL}}" aria-describedby="idS3ACLHelp" />
                <div id="idS3ACLHelp" class="form-text" data-i18n="general.blank_default_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3PartSize" data-i18n="storage.ul_part_size" class="col-md-3 col-form-label">Upload Part Size (MB)</label>
            <div class="col-md-3">
                <input id="idS3PartSize" type="number" min="0" class="form-control" name="s3_upload_part_size" value="{{.S3Config.UploadPartSize}}" aria-describedby="idS3PartSizeHelp" />
                <div id="idS3PartSizeHelp" class="form-text" data-i18n="storage.part_size_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idS3UploadConcurrency" data-i18n="storage.ul_concurrency" class="col-md-2 col-form-label">Upload concurrency</label>
            <div class="col-md-3">
                <input id="idS3UploadConcurrency" type="number" min="0" class="form-control" name="s3_upload_concurrency" value="{{.S3Config.UploadConcurrency}}" aria-describedby="idS3UploadConcurrencyHelp" />
                <div id="idS3UploadConcurrencyHelp" class="form-text" data-i18n="storage.ul_concurrency_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3DLPartSize" data-i18n="storage.dl_part_size" class="col-md-3 col-form-label">Download Part Size (MB)</label>
            <div class="col-md-3">
                <input id="idS3DLPartSize" type="number" min="0" class="form-control" name="s3_download_part_size" value="{{.S3Config.DownloadPartSize}}" aria-describedby="idS3DLPartSizeHelp" />
                <div id="idS3DLPartSizeHelp" class="form-text" data-i18n="storage.part_size_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idS3DownloadConcurrency" data-i18n="storage.dl_concurrency" class="col-md-2 col-form-label">Download concurrency</label>
            <div class="col-md-3">
                <input id="idS3DownloadConcurrency" type="number" min="0" class="form-control" name="s3_download_concurrency" value="{{.S3Config.DownloadConcurrency}}" aria-describedby="idS3DownloadConcurrencyHelp" />
                <div id="idS3DownloadConcurrencyHelp" class="form-text" data-i18n="storage.dl_concurrency_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-s3fs">
            <label for="idS3UploadTimeout" data-i18n="storage.ul_part_timeout" class="col-md-3 col-form-label">UL Part Timeout (secs)</label>
            <div class="col-md-3">
                <input id="idS3UploadTimeout" type="number" min="0" class="form-control" name="s3_upload_part_max_time" value="{{.S3Config.DownloadPartSize}}" aria-describedby="idS3UploadTimeoutHelp" />
                <div id="idS3UploadTimeoutHelp" class="form-text" data-i18n="storage.ul_part_timeout_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idS3DownloadTimeout" data-i18n="storage.dl_part_timeout" class="col-md-2 col-form-label">DL Part Timeout (secs)</label>
            <div class="col-md-3">
                <input id="idS3DownloadTimeout" type="number" min="0" class="form-control" name="s3_download_part_max_time" value="{{.S3Config.DownloadConcurrency}}" aria-describedby="idS3DownloadTimeoutHelp" />
                <div id="idS3DownloadTimeoutHelp" class="form-text" data-i18n="storage.dl_part_timeout_help"></div>
            </div>
        </div>

        <div class="form-group row align-items-center mt-10 fsconfig fsconfig-s3fs">
            <div class="col-md-5">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idS3ForcePathStyle" name="s3_force_path_style" {{if .S3Config.ForcePathStyle}}checked{{end}}/>
                    <label data-i18n="storage.s3_path_style" class="form-check-label fw-semibold text-gray-800" for="idS3ForcePathStyle">
                        Use path-style addressing, i.e., "`endpoint`/BUCKET/KEY"
                    </label>
                </div>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-5">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idS3SkipTLSVerify" name="s3_skip_tls_verify" {{if .S3Config.SkipTLSVerify}}checked{{end}}/>
                    <label data-i18n="general.skip_tls_verify" class="form-check-label fw-semibold text-gray-800" for="idS3SkipTLSVerify">
                        Skip TLS verify. This should be used only for testing
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-gcsfs">
            <label for="idGCSBucket" data-i18n="storage.bucket" class="col-md-3 col-form-label">Bucket</label>
            <div class="col-md-9">
                <input id="idGCSBucket" type="text" class="form-control" name="gcs_bucket" value="{{.GCSConfig.Bucket}}" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-gcsfs">
            <label for="idGCSCredentialFile" data-i18n="storage.credentials_file" class="col-md-3 col-form-label">Credential files</label>
            <div class="col-md-9">
                <input id="idGCSCredentialFile" type="file" accept="application/json" class="form-control" name="gcs_credential_file" aria-describedby="idGCSCredentialFileHelp" />
                <div id="idGCSCredentialFileHelp" class="form-text" data-i18n="storage.credentials_file_help"></div>
            </div>
        </div>

        <div class="form-group row align-items-center mt-10 fsconfig fsconfig-gcsfs">
            <label data-i18n="storage.auto_credentials" class="col-md-3 col-form-label" for="idGCSAutoCredentials">Automatic credentials</label>
            <div class="col-md-9">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idGCSAutoCredentials" name="gcs_auto_credentials" {{if gt .GCSConfig.AutomaticCredentials 0}}checked{{end}}/>
                    <label data-i18n="storage.auto_credentials_help" class="form-check-label fw-semibold text-gray-800" for="idGCSAutoCredentials">
                        Use default application credentials or credentials from environment
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-gcsfs">
            <label for="idGCSKeyPrefix" data-i18n="storage.key_prefix" class="col-md-3 col-form-label">Key Prefix</label>
            <div class="col-md-9">
                <input id="idGCSKeyPrefix" type="text" class="form-control" name="gcs_key_prefix" value="{{.GCSConfig.KeyPrefix}}" aria-describedby="idGCSKeyPrefixHelp" />
                <div id="idGCSKeyPrefixHelp" class="form-text" data-i18n="storage.key_prefix_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-gcsfs">
            <label for="idGCSStorageClass" data-i18n="storage.class" class="col-md-3 col-form-label">Storage Class</label>
            <div class="col-md-3">
                <input id="idGCSStorageClass" type="text" class="form-control" name="gcs_storage_class" value="{{.GCSConfig.StorageClass}}" aria-describedby="idGCSStorageClassHelp" />
                <div id="idGCSStorageClassHelp" class="form-text" data-i18n="general.blank_default_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idGCSACL" data-i18n="storage.acl" class="col-md-2 col-form-label">ACL</label>
            <div class="col-md-3">
                <input id="idGCSACL" type="text" class="form-control" name="gcs_acl" value="{{.GCSConfig.ACL}}" aria-describedby="idGCSACLHelp"/>
                <div id="idGCSACLHelp" class="form-text" data-i18n="general.blank_default_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-gcsfs">
            <label for="idGCSUploadPartSize" data-i18n="storage.ul_part_size" class="col-md-3 col-form-label">Upload Part Size (MB)</label>
            <div class="col-md-3">
                <input id="idGCSUploadPartSize" type="number" min="0" class="form-control" name="gcs_upload_part_size" value="{{.GCSConfig.UploadPartSize}}" aria-describedby="idGCSUploadPartSizeHelp" />
                <div id="idGCSUploadPartSizeHelp" class="form-text" data-i18n="storage.gcs_part_size_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idGCSUploadTimeout" data-i18n="storage.ul_part_timeout" class="col-md-2 col-form-label">UL Part Timeout (secs)</label>
            <div class="col-md-3">
                <input id="idGCSUploadTimeout" type="number" min="0" class="form-control" name="gcs_upload_part_max_time" value="{{.GCSConfig.UploadPartMaxTime}}" aria-describedby="idGCSUploadTimeoutHelp" />
                <div id="idGCSUploadTimeoutHelp" class="form-text" data-i18n="storage.gcs_ul_part_timeout_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzContainer" data-i18n="storage.container" class="col-md-3 col-form-label">Container</label>
            <div class="col-md-9">
                <input id="idAzContainer" type="text" class="form-control" name="az_container" value="{{.AzBlobConfig.Container}}" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzAccountName" data-i18n="storage.account_name" class="col-md-3 col-form-label">Account Name</label>
            <div class="col-md-9">
                <input id="idAzAccountName" type="text" class="form-control" name="az_account_name" value="{{.AzBlobConfig.AccountName}}" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzAccountKey" data-i18n="storage.account_key" class="col-md-3 col-form-label">Account Key</label>
            <div class="col-md-9">
                <input id="idAzAccountKey" type="password" class="form-control" name="az_account_key" autocomplete="off" spellcheck="false"
                    value="{{if .AzBlobConfig.AccountKey.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.AzBlobConfig.AccountKey.GetPayload}}{{end}}"/>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzSASURL" data-i18n="storage.sas_url" class="col-md-3 col-form-label">SAS URL</label>
            <div class="col-md-9">
                <input id="idAzSASURL" type="password" class="form-control" name="az_sas_url" autocomplete="off" spellcheck="false" aria-describedby="idAzSASURLHelp"
                    value="{{if .AzBlobConfig.SASURL.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.AzBlobConfig.SASURL.GetPayload}}{{end}}"/>
                <div id="idAzSASURLHelp" class="form-text" data-i18n="storage.sas_url_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzKeyPrefix" data-i18n="storage.key_prefix" class="col-md-3 col-form-label">Key Prefix</label>
            <div class="col-md-9">
                <input id="idAzKeyPrefix" type="text" class="form-control" name="az_key_prefix" value="{{.AzBlobConfig.KeyPrefix}}" aria-describedby="idAzKeyPrefixHelp" />
                <div id="idAzKeyPrefixHelp" class="form-text" data-i18n="storage.key_prefix_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzAccessTier" data-i18n="storage.class" class="col-md-3 col-form-label">Storage Class</label>
            <div class="col-md-9">
                <select id="idAzAccessTier" name="az_access_tier" class="form-select" data-control="i18n-select2" data-hide-search="true">
                    <option value="" {{if eq .AzBlobConfig.AccessTier "" }}selected{{end}}>Default</option>
                    <option value="Hot" {{if eq .AzBlobConfig.AccessTier "Hot" }}selected{{end}}>Hot</option>
                    <option value="Cool" {{if eq .AzBlobConfig.AccessTier "Cool" }}selected{{end}}>Cool</option>
                    <option value="Archive" {{if eq .AzBlobConfig.AccessTier "Archive" }}selected{{end}}>Archive</option>
                </select>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzUploadPartSize" data-i18n="storage.ul_part_size" class="col-md-3 col-form-label">Upload Part Size (MB)</label>
            <div class="col-md-3">
                <input id="idAzUploadPartSize" type="number" min="0" class="form-control" name="az_upload_part_size" value="{{.AzBlobConfig.UploadPartSize}}" aria-describedby="idAzUploadPartSizeHelp" />
                <div id="idAzUploadPartSizeHelp" class="form-text" data-i18n="storage.part_size_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idAzUploadConcurrency" data-i18n="storage.ul_concurrency" class="col-md-2 col-form-label">Upload concurrency</label>
            <div class="col-md-3">
                <input id="idAzUploadConcurrency" type="number" min="0" class="form-control" name="az_upload_concurrency" value="{{.AzBlobConfig.UploadConcurrency}}" aria-describedby="idAzUploadConcurrencyHelp" />
                <div id="idAzUploadConcurrencyHelp" class="form-text" data-i18n="storage.ul_concurrency_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzDownloadPartSize" data-i18n="storage.dl_part_size" class="col-md-3 col-form-label">Download Part Size (MB)</label>
            <div class="col-md-3">
                <input id="idAzDownloadPartSize" type="number" min="0" class="form-control" name="az_download_part_size" value="{{.AzBlobConfig.DownloadPartSize}}" aria-describedby="idAzDownloadPartSizeHelp" />
                <div id="idAzDownloadPartSizeHelp" class="form-text" data-i18n="storage.part_size_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idAzDownloadConcurrency" data-i18n="storage.dl_concurrency" class="col-md-2 col-form-label">Download concurrency</label>
            <div class="col-md-3">
                <input id="idAzDownloadConcurrency" type="number" min="0" class="form-control" name="az_download_concurrency" value="{{.AzBlobConfig.DownloadConcurrency}}" aria-describedby="idAzDownloadConcurrencyHelp"/>
                <div id="idAzDownloadConcurrencyHelp" class="form-text" data-i18n="storage.dl_concurrency_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-azblobfs">
            <label for="idAzEndpoint" data-i18n="storage.endpoint" class="col-md-3 col-form-label">Endpoint</label>
            <div class="col-md-9">
                <input id="idAzEndpoint" type="text" class="form-control" name="az_endpoint" value="{{.AzBlobConfig.Endpoint}}" aria-describedby="idAzEndpointHelp" />
                <div id="idAzEndpointHelp" class="form-text" data-i18n="general.blank_default_help"></div>
            </div>
        </div>

        <div class="form-group row align-items-center mt-10 fsconfig fsconfig-azblobfs">
            <label data-i18n="storage.emulator" class="col-md-3 col-form-label" for="idUseEmulator">Use Azure Blob emulator</label>
            <div class="col-md-9">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idUseEmulator" name="az_use_emulator" {{if .AzBlobConfig.UseEmulator}}checked{{end}}/>
                </div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-cryptfs">
            <label for="idCryptPassphrase" data-i18n="storage.passphrase" class="col-md-3 col-form-label">Passphrase</label>
            <div class="col-md-9">
                <input id="idCryptPassphrase" type="password" class="form-control" name="crypt_passphrase" autocomplete="off" spellcheck="false" aria-describedby="idCryptPassphraseHelp"
                    value="{{if .CryptConfig.Passphrase.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.CryptConfig.Passphrase.GetPayload}}{{end}}"/>
                <div id="idCryptPassphraseHelp" class="form-text" data-i18n="storage.passphrase_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-cryptfs">
            <label for="idCryptFsReadBufferSize" data-i18n="storage.os_read_buffer" class="col-md-3 col-form-label">Read buffer (MB)</label>
            <div class="col-md-3">
                <input id="idCryptFsReadBufferSize" type="number" min="0" max="10" class="form-control" name="cryptfs_read_buffer_size" value="{{.CryptConfig.ReadBufferSize}}" aria-describedby="idCryptFsReadBufferSizeHelp" />
                <div id="idCryptFsReadBufferSizeHelp" class="form-text" data-i18n="storage.os_buffer_help"></div>
            </div>
            <div class="col-md-1"></div>
            <label for="idCryptFsWriteBufferSize" data-i18n="storage.os_write_buffer" class="col-md-2 col-form-label">Write buffer (MB)</label>
            <div class="col-md-3">
                <input id="idCryptFsWriteBufferSize" type="number" min="0" max="10" class="form-control" name="cryptfs_write_buffer_size" value="{{.CryptConfig.WriteBufferSize}}" aria-describedby="idCryptFsWriteBufferSizeHelp" />
                <div id="idCryptFsWriteBufferSizeHelp" class="form-text" data-i18n="storage.os_buffer_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPEndpoint" data-i18n="storage.endpoint" class="col-md-3 col-form-label">Endpoint</label>
            <div class="col-md-9">
                <input id="idSFTPEndpoint" type="text" class="form-control" name="sftp_endpoint" value="{{.SFTPConfig.Endpoint}}" aria-describedby="idSFTPEndpointHelp"/>
                <div id="idSFTPEndpointHelp" class="form-text" data-i18n="storage.sftp_endpoint_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPUsername" data-i18n="login.username" class="col-md-3 col-form-label">Username</label>
            <div class="col-md-9">
                <input id="idSFTPUsername" type="text" class="form-control" name="sftp_username" value="{{.SFTPConfig.Username}}" spellcheck="false" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPPassword" data-i18n="login.password" class="col-md-3 col-form-label">Password</label>
            <div class="col-md-9">
                <input id="idSFTPPassword" type="password" class="form-control" name="sftp_password" autocomplete="off" spellcheck="false"
                    value="{{if .SFTPConfig.Password.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.SFTPConfig.Password.GetPayload}}{{end}}" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPPrivateKey" data-i18n="general.private_key" class="col-md-3 col-form-label">Private key</label>
            <div class="col-md-9">
                <textarea class="form-control" id="idSFTPPrivateKey" name="sftp_private_key" spellcheck="false"
                    rows="3">{{if .SFTPConfig.PrivateKey.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.SFTPConfig.PrivateKey.GetPayload}}{{end}}</textarea>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPPassphrase" data-i18n="storage.passphrase" class="col-md-3 col-form-label">Passphrase</label>
            <div class="col-md-9">
                <input id="idSFTPPassphrase" type="password" class="form-control" name="sftp_key_passphrase" autocomplete="off" spellcheck="false" aria-describedby="idSFTPPassphraseHelp"
                    value="{{if .SFTPConfig.KeyPassphrase.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.SFTPConfig.KeyPassphrase.GetPayload}}{{end}}" />
                <div id="idSFTPPassphraseHelp" class="form-text" data-i18n="storage.passphrase_key_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPPrefix" data-i18n="storage.sftp_home_dir" class="col-md-3 col-form-label">Roor directory</label>
            <div class="col-md-9">
                <input id="idSFTPPrefix" type="text" class="form-control" name="sftp_prefix" value="{{.SFTPConfig.Prefix}}" aria-describedby="idSFTPPrefixHelp"/>
                <div id="idSFTPPrefixHelp" class="form-text" data-i18n="storage.sftp_home_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPFingerprints" data-i18n="storage.fingerprints" class="col-md-3 col-form-label">Fingerprints</label>
            <div class="col-md-9">
                <textarea class="form-control" id="idSFTPFingerprints" name="sftp_fingerprints" spellcheck="false" aria-describedby="idSFTPFingerprintsHelp"
                    rows="3">{{- range .SFTPConfig.Fingerprints}}{{.}}&#010;{{- end}}</textarea>
                <div id="idSFTPFingerprintsHelp" class="form-text" data-i18n="storage.fingerprints_help"></div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-sftpfs">
            <label for="idSFTPUploadBufferSize" data-i18n="storage.sftp_buffer" class="col-md-3 col-form-label">Buffer size (MB)</label>
            <div class="col-md-9">
                <input id="idSFTPUploadBufferSize" type="number" min="0" max="16" class="form-control" name="sftp_buffer_size" value="{{.SFTPConfig.BufferSize}}" aria-describedby="idSFTPUploadBufferSizeHelp" />
                <div id="idSFTPUploadBufferSizeHelp" class="form-text" data-i18n="storage.os_buffer_help"></div>
            </div>
        </div>

        <div class="form-group row align-items-center mt-10 fsconfig fsconfig-sftpfs">
            <div class="col-md-5">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idDisableConcurrentReads" name="sftp_disable_concurrent_reads" {{if .SFTPConfig.DisableCouncurrentReads}}checked{{end}}/>
                    <label data-i18n="storage.sftp_concurrent_reads" class="form-check-label fw-semibold text-gray-800" for="idDisableConcurrentReads">
                        Disable concurrent reads
                    </label>
                </div>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-5">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idSFTPEqualityCheckMode" name="sftp_equality_check_mode" {{if eq .SFTPConfig.EqualityCheckMode 1}}checked{{end}}/>
                    <label data-i18n="storage.relaxed_equality_check" class="form-check-label fw-semibold text-gray-800" for="idSFTPEqualityCheckMode">
                        Relaxed equality check
                    </label>
                </div>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-httpfs">
            <label for="idHTTPEndpoint" data-i18n="storage.endpoint" class="col-md-3 col-form-label">Endpoint</label>
            <div class="col-md-9">
                <input id="idHTTPEndpoint" type="text" class="form-control" name="http_endpoint" value="{{.HTTPConfig.Endpoint}}"/>
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-httpfs">
            <label for="idHTTPUsername" data-i18n="login.username" class="col-md-3 col-form-label">Username</label>
            <div class="col-md-9">
                <input id="idHTTPUsername" type="text" class="form-control" name="http_username" value="{{.HTTPConfig.Username}}" spellcheck="false" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-httpfs">
            <label for="idHTTPPassword" data-i18n="login.password" class="col-md-3 col-form-label">Password</label>
            <div class="col-md-9">
                <input id="idHTTPPassword" type="password" class="form-control" name="http_password" autocomplete="off" spellcheck="false"
                    value="{{if .HTTPConfig.Password.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.HTTPConfig.Password.GetPayload}}{{end}}" />
            </div>
        </div>

        <div class="form-group row mt-10 fsconfig fsconfig-httpfs">
            <label for="idHTTPAPIKey" data-i18n="storage.api_key" class="col-md-3 col-form-label">API Key</label>
            <div class="col-md-9">
                <input id="idHTTPAPIKey" type="password" class="form-control" name="http_api_key" autocomplete="off" spellcheck="false"
                    value="{{if .HTTPConfig.APIKey.IsEncrypted}}{{.RedactedSecret}}{{else}}{{.HTTPConfig.APIKey.GetPayload}}{{end}}" />
            </div>
        </div>

        <div class="form-group row align-items-center mt-10 fsconfig fsconfig-httpfs">
            <div class="col-md-5">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idHTTPSkipTLSVerify" name="http_skip_tls_verify" {{if .HTTPConfig.SkipTLSVerify}}checked{{end}} />
                    <label data-i18n="general.skip_tls_verify" class="form-check-label fw-semibold text-gray-800" for="idHTTPSkipTLSVerify">
                        Skip TLS verify. This should be used only for testing
                    </label>
                </div>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-5">
                <div class="form-check form-switch form-check-custom form-check-solid">
                    <input class="form-check-input" type="checkbox" id="idHTTPEqualityCheckMode" name="http_equality_check_mode" {{if eq .HTTPConfig.EqualityCheckMode 1}}checked{{end}}/>
                    <label data-i18n="storage.relaxed_equality_check" class="form-check-label fw-semibold text-gray-800" for="idHTTPEqualityCheckMode">
                        Relaxed equality check
                    </label>
                </div>
            </div>
        </div>

    </div>
</div>
{{- end}}